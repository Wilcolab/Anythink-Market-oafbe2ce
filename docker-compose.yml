version: '3.8'

services:
  # The Python Application
  python-app:
    build:
      context: ./python-app-directory # Replace with your actual path
      dockerfile: Dockerfile
    ports:
      - "8000:8000"
    volumes:
      - ./python-app-directory:/usr/src/app
    environment:
      - PORT=8000

  # The Node.js Express Server
  node-app:
    build:
      context: ./express-server # Path to the folder created in previous step
      dockerfile: Dockerfile
    ports:
      - "8001:8001"
    volumes:
      - ./express-server:/usr/src/app
      - /usr/src/app/node_modules 
    environment:
      - PORT=8001
    command: yarn start